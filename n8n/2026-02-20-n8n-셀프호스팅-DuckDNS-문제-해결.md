### Context
GCP VM에서 n8n을 셀프호스팅으로 구축하는 과정에서 HTTPS 인증서를 발급받기 위해 Caddy를 사용하여 DuckDNS 도메인(`chutzrit.duckdns.org`)을 활용하려고 했습니다. 그러나 Let's Encrypt를 통해 인증서를 발급받는 과정에서 도메인의 CAA 레코드를 찾지 못하는 오류가 발생하였습니다. 이 오류는 DuckDNS의 SERVFAIL 문제로 인해 발생했으며, ZeroSSL로 CA를 변경해도 동일한 문제가 발생했습니다.

### Core
Let's Encrypt를 사용하는 과정에서 발생한 오류 내용은 아래와 같습니다:

```
DNS problem: SERVFAIL looking up CAA for duckdns.org
- the domain's nameservers may be malfunctioning
```

DuckDNS의 네임서버가 간헐적으로 SERVFAIL을 반환하면서 인증서 발급이 실패하였습니다. VM의 DNS를 `1.1.1.1`로 변경하면 문제를 해결할 수 있다는 방법이 있었지만 이는 임시 방편에 불과했습니다. 최종적으로 Caddy를 포기하고 Ngrok으로 전환하는 방법을 선택하여 문제를 해결했습니다.

### Insight
DuckDNS는 무료 DDNS 서비스로, 네임서버의 안정성이 부족하여 중요한 프로젝트나 영상 콘텐츠 같이 재현성이 중요한 환경에는 적합하지 않습니다. 반면, Ngrok은 도메인, DNS, SSL 문제를 한 번에 해결해주고 VM 방화벽 설정도 불필요하여 셀프호스팅 입문자들에게 더욱 적합한 솔루션입니다.

**출처:** [Let's Encrypt CAA Inspection](https://letsencrypt.org/docs/caa/)