### Context
n8n에서 복잡한 JSON 데이터를 효율적으로 파싱하기 위해, LLM을 통해 직접 처리하기 보다는 '코드 노드'에서 정규표현식을 활용해 사전 정제 과정을 설정하려고 합니다. 이 접근법은 긴 프롬프트로 인해 발생하는 구조적 실수를 줄이기 위해 고려되었습니다.

### Core
n8n의 코드 노드를 활용하여 JSON 데이터를 정규표현식으로 1차 정제하는 방법은 다음과 같습니다:

```javascript
const refinedData = originalData.match(/정규표현식/);
return refinedData;
```

이 코드는 들어오는 JSON 데이터에서 정규표현식에 매칭되는 데이터만 추출하여 반환합니다. 이러한 사전 처리를 통해 LLM이 더 명확한 데이터를 처리할 수 있게 만들어 줍니다.

### Insight
few-shot 예제를 LLM에 제공하는 것은 효과적일 수 있지만, 모든 데이터를 AI에게 넘기는 것은 비효율성과 에러를 초래할 수 있습니다. 코드 노드에서 1차적으로 데이터를 정제한 후 LLM에 전달하면 더욱 안정적인 처리 결과를 얻을 수 있습니다. 이는 시스템 안정성을 높이고, 프롬프트 효율성을 개선할 수 있는 방법입니다.

**출처:** [Master few-shot prompting, in-context learning, and advanced techniques for better LLM performance](https://www.example.com)